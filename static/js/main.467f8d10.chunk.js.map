{"version":3,"sources":["redux/store.js","redux/actions.js","components/Square.js","components/Board.js","App.js","index.js"],"names":["initialState","squares","Array","fill","history","0","move","store","createStore","state","arguments","length","undefined","action","type","square","slice","value","payload","Object","objectSpread","defineProperty","key","Square","_ref","winClass","index","onClick","win","concat","react_default","a","createElement","data-name","className","Board","handleOnBack","_this","props","onBackMove","handleClick","event","item","target","dataset","name","calculateWinner","winner","onNewMove","handleClickNewGame","onNewGame","this","i","winLine","includes","components_Square","_calculateWinner","moves","status","statusBtn","renderSquare","React","Component","connect","dispatch","pos","lines","_lines$i","slicedToArray","b","c","App","components_Board","ReactDOM","render","es","react_router_dom","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.467f8d10.chunk.js","sourcesContent":["import { createStore } from 'redux';\n\nimport { NEW_GAME, MOVE_BACK, ONE_MOVE } from './actions';\n\nconst initialState = {\n  squares: Array(9).fill(null),\n  history: {\n    0: Array(9).fill(null),\n  },\n  move: 0,\n};\n\nconst rootReduser = (state = initialState, action) => {\n\n  switch (action.type) {\n    case NEW_GAME:\n      return initialState;\n    case ONE_MOVE:\n      const square = state.squares.slice();\n      const value = ((state.move + 1) % 2 === 0)\n        ? 'O'\n        : 'X' ;\n\n      square[action.payload] = value;\n\n      return {\n        ...state,\n        squares: square,\n        move: state.move + 1,\n        history: {\n          ...state.history,\n          [state.move + 1] : square,\n        }\n      };\n\n    case MOVE_BACK:\n      if (state.move === 0) {\n        return initialState;\n      }\n\n      const history = {};\n      for (const key in state.history) {\n        history[key] = state.history[key];\n      }\n\n      delete (history[state.move-1]);\n\n      return {\n        ...state,\n        move: state.move - 1,\n        history: history,\n        squares: state.history[state.move - 1],\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(rootReduser);\nexport default store;\n","export const NEW_GAME = 'NEW_GAME';\nexport const ONE_MOVE = 'ONE_MOVE';\nexport const MOVE_BACK = 'MOVE_BACK';\n\nexport const ACTION_NEW_GAME = () => ({\n  type: NEW_GAME,\n});\nexport const ACTION_ONE_MOVE = payload => ({\n  type: ONE_MOVE,\n  payload,\n});\nexport const ACTION_MOVE_BACK = () => ({\n  type: MOVE_BACK,\n});\n","import React from 'react';\n\nconst Square = ({winClass, index, onClick, value}) => {\n    const win = `square ${winClass}`;\n    return (\n      <button\n        data-name={index}\n        className={win}\n        onClick={onClick}\n      >\n        {value}\n      </button>\n    );\n};\n\nexport default Square;\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Square from './Square';\r\n\r\nimport { ACTION_NEW_GAME, ACTION_ONE_MOVE, ACTION_MOVE_BACK } from '../redux/actions';\r\n\r\nclass Board extends React.Component {\r\n componentDidMount() {\r\n   this.props.onNewGame();\r\n };\r\n\r\n handleOnBack = () => {\r\n   this.props.onBackMove();\r\n };\r\n\r\n handleClick = (event) => {\r\n   const item = +event.target.dataset.name ;\r\n   const square = this.props.squares.slice();\r\n\r\n   if (calculateWinner(square).winner || square[item]) {\r\n     return;\r\n   }\r\n   this.props.onNewMove(item);\r\n };\r\n\r\n handleClickNewGame = () => {\r\n   this.props.onNewGame();\r\n };\r\n\r\n renderSquare(i, winLine) {\r\n   const winClass = (winLine) && (winLine.includes(i))\r\n     ? 'winner_line'\r\n     : '';\r\n\r\n   return <Square\r\n     index={i}\r\n     winClass={winClass}\r\n     value={this.props.squares[i]}\r\n     onClick={this.handleClick}\r\n   />;\r\n }\r\n\r\n render() {\r\n   const { winner, winLine } = calculateWinner(this.props.squares);\r\n   const moves = 'Move: '+ this.props.move;\r\n\r\n   const value = ((this.props.move + 1) % 2 === 0)\r\n     ? 'O'\r\n     : 'X' ;\r\n\r\n   const status = winner\r\n     ? 'Winner: '+ winner\r\n     : 'Next player: '+ value;\r\n\r\n   const statusBtn = (this.props.move === 0)\r\n     ? 'status btn_hide'\r\n     : 'status';\r\n\r\n   return (\r\n     <div>\r\n       <div className=\"status\">{status}</div>\r\n       <div className=\"status\">{moves}</div>\r\n       <div className={statusBtn}>\r\n         <button onClick={this.handleOnBack}>BACK</button>\r\n       </div>\r\n       <div className=\"board-row\">\r\n         {this.renderSquare(0,winLine)}\r\n         {this.renderSquare(1,winLine)}\r\n         {this.renderSquare(2,winLine)}\r\n       </div>\r\n       <div className=\"board-row\">\r\n         {this.renderSquare(3,winLine)}\r\n         {this.renderSquare(4,winLine)}\r\n         {this.renderSquare(5,winLine)}\r\n       </div>\r\n       <div className=\"board-row\">\r\n         {this.renderSquare(6,winLine)}\r\n         {this.renderSquare(7,winLine)}\r\n         {this.renderSquare(8,winLine)}\r\n       </div>\r\n       <div  className=\"new_game_button\">\r\n         <button\r\n           onClick={this.handleClickNewGame}\r\n         >\r\n           New Game\r\n         </button>\r\n       </div >\r\n     </div>\r\n   );\r\n }\r\n}\r\n\r\nconst mapState = ({ squares, move, history } ) => ( {\r\n    squares: squares,\r\n    move: move,\r\n    history: history,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>{\r\n  return {\r\n      onNewMove: pos =>  dispatch(ACTION_ONE_MOVE(pos)),\r\n      onNewGame: () => { dispatch(ACTION_NEW_GAME()) },\r\n      onBackMove: () =>  dispatch(ACTION_MOVE_BACK()),\r\n  }\r\n};\r\n\r\n\r\nexport default connect( mapState, mapDispatchToProps )(Board);\r\n\r\n\r\nfunction calculateWinner(squares) {\r\n    const lines = [\r\n        [0, 1, 2], [3, 4, 5], [6, 7, 8],\r\n        [0, 3, 6], [1, 4, 7], [2, 5, 8],\r\n        [0, 4, 8], [2, 4, 6],\r\n    ];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        const [a, b, c] = lines[i];\r\n        if (squares[a] && squares[a] === squares[b] && squares[b] === squares[c]) {\r\n            return {\r\n                winner: squares[a],\r\n                winLine: lines[i]\r\n            };\r\n        }\r\n    }\r\n    return {\r\n        winner: null,\r\n        winLine: null\r\n    };\r\n}","import React from 'react';\n\nimport Board from './components/Board';\nimport './App.css';\n\nconst App = () => (\n  <div className=\"game\">\n    <div className=\"game-board\">\n      <Board />\n    </div>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport store from './redux/store';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}